<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<div class="main-body">

		<nav class="sidebar" id="navbar">
			<header style="padding-left: 10px;">Contents</header>
			<a href="#Intro" class="nav-link">
				Introduction</a>
			<a href = "#Setup" class="nav-link">
				Tool Setup</a>
			<a href="#ToolMenu" class="nav-link">
				Tool Menu Explaination </a>
			<a href="#ControllerOrKeyboardSetup" class="nav-link">
				Controller or Keyboard Setup</a>
			<a href="#ResultsJsonFile" class="nav-link">
				Results Json File </a>
		</nav>


		<main id="main-doc">
			<code>
				<img src="Images/teaser.png" width="500px" height="50%" style="padding-left: 35%;"/>
			</code>
			<h1>Contrast Sensitivity Tool Documentation</h1>
			<section class="main-section" id="Intro">
				<header class="line">Introduction</header>
				<p>
					The Contrast Sensitivity Dectection Tool measures the miniumum threshold contrast sensitivity of human subjects at various positions across the display FOV of a VR HMD. Using a 2D sinusoidal pattern with predefined contrast and spatial frequency as a Gabor target, we determine the contrast sensitivity as the reciprocal of threshold contrast per position. The Gabor target can be rendered at the center, left (for nasal rotation, ùõº = -9¬∞), and right (for temporal rotation, ùõº = 9¬∞) locations within the display FOV if the 9 location checkbox is selected. At maxmimum, the target can be shown at 9 locations. The tool is set to display the orientation of the target such that the sinusoidal contrast pattern is always circular (or perpendicular to the radial direction) with respect to the target location because it has been shown that the circular orientation of the pattern is suitable to capture the contrast degradation by optical aberration.
				</p>
			</section>

			<section class="main-section" id="Setup">
				<header class="line">Setup</header>
				<p> You can modify any of the values in the menu using the keyboard or Oculus Quest 2 controller. The experiement will run from the min frequency to max frequency over a fixed position or 9 different positions. The first trial is a test trial and will be recorded but is there to test the experiement.
					The min frequency, max frequency and step frequency are measured in cycles per degree meaning that we divide these values by 26 in our code in order to account for the angle between the headset and the target. The total number of trials is exclusive of the max frequency. 
					Size is the standard deviation of the gaussian distribution of the target measured in meters according to the WebXR documentation. The shift is the distance between targets when they move over 9 positions which is measured in meters according to the WebXR documentation.</p>
			</section>

			<section class="main-section" id="ToolMenu">
				<header class="line">
					Tool Menu Explaination
				</header>
				
				<ul>
					<li>Partcipant ID: </b>A unique identifier of choice for the experiment trial.</li>
					<li>Size: </b>The size of the gabor patch in pixels. Users can adjust it in meters based on the WebXR documentation.</li>
					<li>Min Frequency: Spatial frequency of the patch when the experiment begins. Min value is 0.5. </b></li>
					<li>Max Frequency: Spatial frequency of the patch when the experiment ends. Max value is 6 due to headset antialiasing. </b></li>
					<li>Step Frequency: Spatial frequency to increment the patch by. Value must be between min and max frequency. </b></li>
					<li>Shift: The distance between targets in terms of meters based on the WebXR documentation. </b></li>
					<li>9 positions: Checking this box allows the experiment to loop the frequency over 9 positions accross the FOV determined by the shift. </b></li>
					<li>Background Noise: Checking this box opens the noise and gaussian sigma options. </b></li>
					<li>Noise Sigma: Standard deviation in gray levels (0-255)</b></li>
					<li>Gaussian Sigma: Adds the blur. Ranges from 0 to 9 only.  </b></li>

				</ul> 
			
				</p>
			</section>

			<section class="main-section" id="ControllerOrKeyboardSetup">
				<header class="line">
					Controller Or Keyboard Setup
				</header>
				<img src="../Image/controller.png" width="200px" height="50%" style="padding-left: 35%;"/>
				<ul>
					<li>a: Confirm contrast level and move to next target</li>
					<li>b: To reset contrast of gabor to 1 when user can't visibly see the target</li>
					<li>Arrow/thumbstick up: Increase contrast of current target</li>
					<li>Arrow/thumbstick down: Decrease contrast of current target</li>
					<li>esc: Exit immersive mode</li>
				</ul>
				</p>
			</section>

			<section class="main-section" id="ResultsJsonFile">
				<header class="line">
					Results Json File Explaination
				</header>
				<img src="../Image/results.png" width="200px" height="50%" style="padding-left: 35%;"/>
				<p>
					The json file compiles the results of the experiment. The json file has the following format where the participant id 
					is noted above and for each frequency, the threshold contrast, the frequency, the max frequency, the size standard deviation,
					the position of the target, and the trial time needed to complete the trial are noted. 
				
				</p>
			</section>
		</main>
	</div>
</body>
</html>
